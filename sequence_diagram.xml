<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2024-01-01T00:00:00.000Z" agent="5.0" etag="xxx" version="22.1.16" type="device">
  <diagram name="Microsponsoring Sequence Diagram" id="sequence-diagram">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Lifelines -->
        <mxCell id="user-lifeline" value="User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#ffffff;strokeColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="50" y="50" width="30" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="frontend-lifeline" value="Frontend" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e3f2fd;strokeColor=#1976d2;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="150" y="50" width="80" height="600" as="geometry" />
        </mxCell>
        
        <mxCell id="auth-controller-lifeline" value="AuthController" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="280" y="50" width="100" height="600" as="geometry" />
        </mxCell>
        
        <mxCell id="user-service-lifeline" value="UserService" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="430" y="50" width="100" height="600" as="geometry" />
        </mxCell>
        
        <mxCell id="email-service-lifeline" value="EmailService" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f3e5f5;strokeColor=#7b1fa2;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="50" width="100" height="600" as="geometry" />
        </mxCell>
        
        <mxCell id="database-lifeline" value="Database" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#fff3e0;strokeColor=#e65100;fontSize=12;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="730" y="50" width="80" height="600" as="geometry" />
        </mxCell>
        
        <!-- Messages -->
        <mxCell id="msg1" value="Fill registration form" style="endArrow=open;endSize=12;html=1;rounded=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="user-lifeline" target="frontend-lifeline">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg2" value="POST /api/auth/register" style="endArrow=open;endSize=12;html=1;rounded=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="frontend-lifeline" target="auth-controller-lifeline">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg3" value="registerUser(userData)" style="endArrow=open;endSize=12;html=1;rounded=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="auth-controller-lifeline" target="user-service-lifeline">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg4" value="Check if email exists" style="endArrow=open;endSize=12;html=1;rounded=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="user-service-lifeline" target="database-lifeline">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg5" value="Email available" style="endArrow=open;endSize=12;html=1;rounded=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="database-lifeline" target="user-service-lifeline">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg6" value="Save user" style="endArrow=open;endSize=12;html=1;rounded=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="user-service-lifeline" target="database-lifeline">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg7" value="sendWelcomeEmail(user)" style="endArrow=open;endSize=12;html=1;rounded=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="user-service-lifeline" target="email-service-lifeline">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg8" value="Welcome email" style="endArrow=open;endSize=12;html=1;rounded=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="email-service-lifeline" target="user-lifeline">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg9" value="User created successfully" style="endArrow=open;endSize=12;html=1;rounded=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="user-service-lifeline" target="auth-controller-lifeline">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg10" value="201 Created + JWT token" style="endArrow=open;endSize=12;html=1;rounded=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" edge="1" parent="1" source="auth-controller-lifeline" target="frontend-lifeline">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="msg11" value="Redirect to dashboard" style="endArrow=open;endSize=12;html=1;rounded=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="frontend-lifeline" target="user-lifeline">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="560" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Activation bars -->
        <mxCell id="frontend-activation" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1976d2;strokeColor=#1976d2;" vertex="1" parent="1">
          <mxGeometry x="185" y="120" width="10" height="500" as="geometry" />
        </mxCell>
        
        <mxCell id="auth-activation" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#7b1fa2;strokeColor=#7b1fa2;" vertex="1" parent="1">
          <mxGeometry x="315" y="140" width="10" height="480" as="geometry" />
        </mxCell>
        
        <mxCell id="user-service-activation" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#7b1fa2;strokeColor=#7b1fa2;" vertex="1" parent="1">
          <mxGeometry x="465" y="160" width="10" height="440" as="geometry" />
        </mxCell>
        
        <mxCell id="email-activation" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#7b1fa2;strokeColor=#7b1fa2;" vertex="1" parent="1">
          <mxGeometry x="615" y="300" width="10" height="200" as="geometry" />
        </mxCell>
        
        <mxCell id="database-activation" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e65100;strokeColor=#e65100;" vertex="1" parent="1">
          <mxGeometry x="765" y="180" width="10" height="400" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile> 